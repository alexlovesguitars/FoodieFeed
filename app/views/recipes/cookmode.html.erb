<%= render "shared/cookmode_banner" %>

<div class="cookmode-container">
  <div class="button mb-1 d-flex" data-controller="share">
      <%= link_to home_path, class: "icon-back btn btn-ghost rounded-pill text-black fs-5 d-flex align-items-center gap-2" do %>
        <i class="fa-solid fa-arrow-left-long"></i>
        <p class="mb-0" style="font-size: 18px; font-weight: bold;"><strong>Go Back</strong></p>
      <% end %>
      <div class="share-icon mb-1 d-flex flex-column justify-content-center">
        <i class="fa-solid fa-share-nodes"
          id="open-share-modal"
          data-share-target="icon"
          data-action="mouseenter->share#addBounce mouseleave->share#removeBounce click->share#openModal"
          data-bs-toggle="modal"
          data-bs-target="#shareModal">
        </i>
      </div>

    </div>

    <div class="cookmode-content d-flex" data-controller="steps">
      <div class="instructions-section w-40">
        <div id="recipe-steps" class="recipe-steps mt-4">
          <% @recipe.method.each_with_index do |step, index| %>
          <div class="step-card mb-3 p-3" data-steps-target="step">
            <h3>Step <%= index + 1 %></h3>
            <p><%= step %></p>
          </div>
          <% end %>
        </div>
        <div class="buttons d-flex justify-content-center">
          <button class="mt-4 mx-2 btn btn-primary rounded-pill" data-action="click->steps#previousStep">Previous Step</button>
          <button class="mt-4 mx-2 btn btn-primary rounded-pill" data-action="click->steps#nextStep">Next Step</button>
        </div>
      </div>

      <div class="video-section w-60">
        <div class="video-container">
          <iframe
            class="responsive-iframe"
            src="<%= @recipe.video_link %>"
            title="YouTube video player"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            referrerpolicy="strict-origin-when-cross-origin"
            allowfullscreen>
          </iframe>
        </div>
    </div>
  </div>
</div>


<%= render "shared/share_modal" %>
